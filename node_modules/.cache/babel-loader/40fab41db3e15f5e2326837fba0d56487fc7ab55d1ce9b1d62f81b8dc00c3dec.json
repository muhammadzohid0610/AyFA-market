{"ast":null,"code":"import{useEffect,useState}from\"react\";import Slider from\"rc-slider\";import\"rc-slider/assets/index.css\";import{useDispatch,useSelector}from\"react-redux\";import{getMaxPrice,setCurrentPage}from\"../store/slices/Product\";import{useNavigate}from\"react-router-dom\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";const DualRangeSlider=()=>{const{maxPrice}=useSelector(state=>state.product);const[range1,setRange1]=useState([0,maxPrice?maxPrice:2000]);const dispatch=useDispatch();const handleRange1Change=value=>{setRange1(value);};useEffect(()=>{dispatch(getMaxPrice());},[]);const navigate=useNavigate();let timeId=0;useEffect(()=>{timeId=setTimeout(()=>{dispatch(setCurrentPage(1));const currentSearchParams=new URLSearchParams(window.location.search);currentSearchParams.set(\"from_price\",\"\".concat(range1[0]));currentSearchParams.set(\"to_price\",\"\".concat(range1[1]));const newQueryString=currentSearchParams.toString();const newUrl=\"\".concat(window.location.pathname,\"?\").concat(newQueryString);navigate(newUrl);},500);return()=>clearTimeout(timeId);},[range1]);return/*#__PURE__*/_jsxs(\"div\",{className:\"w-[200px] cursor-pointer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"justify-between mb-[10px] flex\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-[#1DBE60]\",children:[\"\\u043E\\u0442 \",range1[0],\" \\u0441\\u043E\\u043C\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-[#1DBE60]\",children:[\"\\u0434\\u043E \",range1[1],\" \\u0441\\u043E\\u043C\"]})]}),/*#__PURE__*/_jsx(Slider,{min:0,max:+maxPrice,range:true,value:range1,onChange:handleRange1Change})]});};export default DualRangeSlider;","map":{"version":3,"names":["useEffect","useState","Slider","useDispatch","useSelector","getMaxPrice","setCurrentPage","useNavigate","jsxs","_jsxs","jsx","_jsx","DualRangeSlider","maxPrice","state","product","range1","setRange1","dispatch","handleRange1Change","value","navigate","timeId","setTimeout","currentSearchParams","URLSearchParams","window","location","search","set","concat","newQueryString","toString","newUrl","pathname","clearTimeout","className","children","min","max","range","onChange"],"sources":["/Users/muhammad/Downloads/ayfamarket-main/src/components/DualRangeSlider .jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport Slider from \"rc-slider\";\r\nimport \"rc-slider/assets/index.css\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getMaxPrice, setCurrentPage } from \"../store/slices/Product\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst DualRangeSlider = () => {\r\n  const { maxPrice } = useSelector((state) => state.product);\r\n\r\n  const [range1, setRange1] = useState([0, maxPrice ? maxPrice : 2000]);\r\n  const dispatch = useDispatch();\r\n  const handleRange1Change = (value) => {\r\n    setRange1(value);\r\n  };\r\n  useEffect(() => {\r\n    dispatch(getMaxPrice());\r\n  }, []);\r\n  const navigate = useNavigate();\r\n\r\n  let timeId = 0;\r\n\r\n  useEffect(() => {\r\n    timeId = setTimeout(() => {\r\n      dispatch(setCurrentPage(1));\r\n\r\n      const currentSearchParams = new URLSearchParams(window.location.search);\r\n      currentSearchParams.set(\"from_price\", `${range1[0]}`);\r\n      currentSearchParams.set(\"to_price\", `${range1[1]}`);\r\n      const newQueryString = currentSearchParams.toString();\r\n      const newUrl = `${window.location.pathname}?${newQueryString}`;\r\n      navigate(newUrl);\r\n    }, 500);\r\n\r\n    return () => clearTimeout(timeId);\r\n  }, [range1]);\r\n\r\n  return (\r\n    <div className=\"w-[200px] cursor-pointer\">\r\n      <div className=\"justify-between mb-[10px] flex\">\r\n        <span className=\"text-[#1DBE60]\">от {range1[0]} сом</span>\r\n        <span className=\"text-[#1DBE60]\">до {range1[1]} сом</span>\r\n      </div>\r\n      <Slider\r\n        min={0}\r\n        max={+maxPrice}\r\n        range\r\n        value={range1}\r\n        onChange={handleRange1Change}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DualRangeSlider;\r\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAO,CAAAC,MAAM,KAAM,WAAW,CAC9B,MAAO,4BAA4B,CACnC,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,WAAW,CAAEC,cAAc,KAAQ,yBAAyB,CACrE,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,IAAA,IAAAC,KAAA,gCAAAC,GAAA,IAAAC,IAAA,yBAE/C,KAAM,CAAAC,eAAe,CAAGA,CAAA,GAAM,CAC5B,KAAM,CAAEC,QAAS,CAAC,CAAGT,WAAW,CAAEU,KAAK,EAAKA,KAAK,CAACC,OAAO,CAAC,CAE1D,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGhB,QAAQ,CAAC,CAAC,CAAC,CAAEY,QAAQ,CAAGA,QAAQ,CAAG,IAAI,CAAC,CAAC,CACrE,KAAM,CAAAK,QAAQ,CAAGf,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAgB,kBAAkB,CAAIC,KAAK,EAAK,CACpCH,SAAS,CAACG,KAAK,CAAC,CAClB,CAAC,CACDpB,SAAS,CAAC,IAAM,CACdkB,QAAQ,CAACb,WAAW,CAAC,CAAC,CAAC,CACzB,CAAC,CAAE,EAAE,CAAC,CACN,KAAM,CAAAgB,QAAQ,CAAGd,WAAW,CAAC,CAAC,CAE9B,GAAI,CAAAe,MAAM,CAAG,CAAC,CAEdtB,SAAS,CAAC,IAAM,CACdsB,MAAM,CAAGC,UAAU,CAAC,IAAM,CACxBL,QAAQ,CAACZ,cAAc,CAAC,CAAC,CAAC,CAAC,CAE3B,KAAM,CAAAkB,mBAAmB,CAAG,GAAI,CAAAC,eAAe,CAACC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CACvEJ,mBAAmB,CAACK,GAAG,CAAC,YAAY,IAAAC,MAAA,CAAKd,MAAM,CAAC,CAAC,CAAC,CAAE,CAAC,CACrDQ,mBAAmB,CAACK,GAAG,CAAC,UAAU,IAAAC,MAAA,CAAKd,MAAM,CAAC,CAAC,CAAC,CAAE,CAAC,CACnD,KAAM,CAAAe,cAAc,CAAGP,mBAAmB,CAACQ,QAAQ,CAAC,CAAC,CACrD,KAAM,CAAAC,MAAM,IAAAH,MAAA,CAAMJ,MAAM,CAACC,QAAQ,CAACO,QAAQ,MAAAJ,MAAA,CAAIC,cAAc,CAAE,CAC9DV,QAAQ,CAACY,MAAM,CAAC,CAClB,CAAC,CAAE,GAAG,CAAC,CAEP,MAAO,IAAME,YAAY,CAACb,MAAM,CAAC,CACnC,CAAC,CAAE,CAACN,MAAM,CAAC,CAAC,CAEZ,mBACEP,KAAA,QAAK2B,SAAS,CAAC,0BAA0B,CAAAC,QAAA,eACvC5B,KAAA,QAAK2B,SAAS,CAAC,gCAAgC,CAAAC,QAAA,eAC7C5B,KAAA,SAAM2B,SAAS,CAAC,gBAAgB,CAAAC,QAAA,EAAC,eAAG,CAACrB,MAAM,CAAC,CAAC,CAAC,CAAC,qBAAI,EAAM,CAAC,cAC1DP,KAAA,SAAM2B,SAAS,CAAC,gBAAgB,CAAAC,QAAA,EAAC,eAAG,CAACrB,MAAM,CAAC,CAAC,CAAC,CAAC,qBAAI,EAAM,CAAC,EACvD,CAAC,cACNL,IAAA,CAACT,MAAM,EACLoC,GAAG,CAAE,CAAE,CACPC,GAAG,CAAE,CAAC1B,QAAS,CACf2B,KAAK,MACLpB,KAAK,CAAEJ,MAAO,CACdyB,QAAQ,CAAEtB,kBAAmB,CAC9B,CAAC,EACC,CAAC,CAEV,CAAC,CAED,cAAe,CAAAP,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}