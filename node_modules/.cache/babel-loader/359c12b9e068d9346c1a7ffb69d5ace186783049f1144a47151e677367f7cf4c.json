{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{getProducts,removeProduct,setCurrentPage,setFilter}from\"../store/slices/Product\";import{getCategories}from\"../store/slices/Categorie\";import{useLocation,useNavigate}from\"react-router-dom\";import{Link}from\"react-router-dom\";import DualRangeSlider from\"./DualRangeSlider \";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Filter=()=>{const[activeSelect,setActiveSelect]=useState(false);const dispatch=useDispatch();const[Active,setActive]=useState(0);const{data}=useSelector(state=>state.categorie);useEffect(()=>{dispatch(getCategories());},[]);const navigate=useNavigate();const filterPrise=e=>{dispatch(setCurrentPage(1));const currentSearchParams=new URLSearchParams(window.location.search);currentSearchParams.set(\"ordering\",\"\".concat(e));const newQueryString=currentSearchParams.toString();const newUrl=\"\".concat(window.location.pathname,\"?\").concat(newQueryString);navigate(newUrl);};const filterCategory=id=>{dispatch(setCurrentPage(1));const currentSearchParams=new URLSearchParams(window.location.search);currentSearchParams.set(\"category\",\"\".concat(id));const newQueryString=currentSearchParams.toString();const newUrl=\"\".concat(window.location.pathname,\"?\").concat(newQueryString);navigate(newUrl);};return/*#__PURE__*/_jsx(\"div\",{className:\"filter flex  flex-col items-start\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-end w-full px-3\",children:[/*#__PURE__*/_jsxs(\"div\",{onClick:()=>setActiveSelect(!activeSelect),className:\"clous  cursor-pointer flex gap-1 items-center relative\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined text-2xl  text-[#b2b4bc]\",children:\"instant_mix\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-base text-[#b2b4bc]\",children:\"\\u0424\\u0438\\u043B\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F \\u043F\\u043E \\u0446\\u0435\\u043D\\u0430\\u043C\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(!activeSelect&&\"hidden\",\" absolute left-[105%] z-10 p-1 top-3 bg-[#b2b4bc] w-[110%]\"),children:[/*#__PURE__*/_jsx(\"div\",{onClick:()=>filterPrise(\"-price\"),children:\"\\u041F\\u043E \\u0443\\u0431\\u044B\\u0432\\u0430\\u043D\\u0438\\u044E\"}),/*#__PURE__*/_jsx(\"div\",{onClick:()=>filterPrise(\"price\"),children:\"\\u041F\\u043E \\u0432\\u043E\\u0437\\u0440\\u0430\\u0441\\u0442\\u0430\\u043D\\u0438\\u044E \"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"pl-2\"})]})});};export default Filter;","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","getProducts","removeProduct","setCurrentPage","setFilter","getCategories","useLocation","useNavigate","Link","DualRangeSlider","jsx","_jsx","jsxs","_jsxs","Filter","activeSelect","setActiveSelect","dispatch","Active","setActive","data","state","categorie","navigate","filterPrise","e","currentSearchParams","URLSearchParams","window","location","search","set","concat","newQueryString","toString","newUrl","pathname","filterCategory","id","className","children","onClick"],"sources":["/Users/muhammad/Downloads/ayfamarket-main/src/components/Filter.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  getProducts,\r\n  removeProduct,\r\n  setCurrentPage,\r\n  setFilter,\r\n} from \"../store/slices/Product\";\r\nimport { getCategories } from \"../store/slices/Categorie\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\nimport { Link } from \"react-router-dom\";\r\nimport DualRangeSlider from \"./DualRangeSlider \";\r\n\r\nconst Filter = () => {\r\n  const [activeSelect, setActiveSelect] = useState(false);\r\n  const dispatch = useDispatch();\r\n  const [Active, setActive] = useState(0);\r\n  const { data } = useSelector((state) => state.categorie);\r\n  useEffect(() => {\r\n    dispatch(getCategories());\r\n  }, []);\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const filterPrise = (e) => {\r\n    dispatch(setCurrentPage(1));\r\n    const currentSearchParams = new URLSearchParams(window.location.search);\r\n    currentSearchParams.set(\"ordering\", `${e}`);\r\n    const newQueryString = currentSearchParams.toString();\r\n    const newUrl = `${window.location.pathname}?${newQueryString}`;\r\n    navigate(newUrl);\r\n  };\r\n\r\n  const filterCategory = (id) => {\r\n    dispatch(setCurrentPage(1));\r\n    const currentSearchParams = new URLSearchParams(window.location.search);\r\n    currentSearchParams.set(\"category\", `${id}`);\r\n    const newQueryString = currentSearchParams.toString();\r\n    const newUrl = `${window.location.pathname}?${newQueryString}`;\r\n    navigate(newUrl);\r\n  };\r\n\r\n  return (\r\n    <div className=\"filter flex  flex-col items-start\">\r\n      {/* <ul className=\"w-[100%] pb-[15px] flex gap-3\">\r\n        <li\r\n          className={`border ${\r\n            Active == 0 && \"bg-[#1DBE60]\"\r\n          }  cursor-pointer rounded-[20px] border-[#1DBE60] py-2 px-4 font-medium text-[#b2b4bc] `}\r\n          key={0}\r\n          onClick={() => setActive(0)}\r\n        >\r\n          <Link to={`/`}>ALL</Link>\r\n        </li>\r\n        {data?.results?.map((item) => (\r\n          <li\r\n            onClick={() => {\r\n              filterCategory(item.id);\r\n              setActive(item.id);\r\n            }}\r\n            className={`border ${\r\n              Active == item.id && \"bg-[#1DBE60]\"\r\n            } cursor-pointer rounded-[20px] border-[#1DBE60] py-2 px-4 font-medium text-[#b2b4bc]`}\r\n            key={item.id}\r\n          >\r\n            {item.name}\r\n          </li>\r\n        ))}\r\n      </ul> */}\r\n      <div className=\"flex justify-between items-end w-full px-3\">\r\n        <div\r\n          onClick={() => setActiveSelect(!activeSelect)}\r\n          className=\"clous  cursor-pointer flex gap-1 items-center relative\"\r\n        >\r\n          <span className=\"material-symbols-outlined text-2xl  text-[#b2b4bc]\">\r\n            instant_mix\r\n          </span>\r\n          <span className=\"text-base text-[#b2b4bc]\">Филтрация по ценам</span>\r\n          <div\r\n            className={`${\r\n              !activeSelect && \"hidden\"\r\n            } absolute left-[105%] z-10 p-1 top-3 bg-[#b2b4bc] w-[110%]`}\r\n          >\r\n            <div onClick={() => filterPrise(\"-price\")}>По убыванию</div>\r\n            <div onClick={() => filterPrise(\"price\")}>По возрастанию </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"pl-2\">\r\n          \r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}