{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport { API } from \"../hook\";\nconst userSlice = createSlice({\n  name: \"product\",\n  initialState: {\n    data: [],\n    loading: false,\n    error: false,\n    oneData: {},\n    filter: false,\n    maxPrice: [],\n    currentPage: 1\n  },\n  reducers: {\n    setMaxPrice: (state, {\n      payload\n    }) => {\n      state.maxPrice = payload;\n    },\n    setProducts: (state, {\n      payload\n    }) => {\n      state.data = payload;\n    },\n    setProduct: (state, {\n      payload\n    }) => {\n      state.oneData = payload;\n    },\n    setError: (state, {\n      payload\n    }) => {\n      state.error = payload;\n    },\n    setLoading: (state, {\n      payload\n    }) => {\n      state.loading = payload;\n    },\n    setFilter: (state, {\n      payload\n    }) => {\n      state.filter = payload;\n    },\n    addItemLast: (state, {\n      payload\n    }) => {\n      var _state$data, _state$data$results;\n      (_state$data = state.data) === null || _state$data === void 0 ? void 0 : (_state$data$results = _state$data.results) === null || _state$data$results === void 0 ? void 0 : _state$data$results.push(...payload);\n    },\n    setCurrentPage: (state, {\n      payload\n    }) => {\n      state.currentPage = payload;\n    }\n  }\n});\nexport const {\n  setProducts,\n  setError,\n  setLoading,\n  setProduct,\n  setFilter,\n  setMaxPrice,\n  addItemLast,\n  setCurrentPage\n} = userSlice.actions;\nexport default userSlice.reducer;\nexport const getProducts = (params, AfterGet) => {\n  return async dispatch => {\n    dispatch(setLoading(true));\n    axios.get(`${API}/product/${params ? params : \"\"}`, {\n      params: {\n        page_size: 12,\n        page: 1\n      }\n    }).then(response => {\n      dispatch(setProducts(response === null || response === void 0 ? void 0 : response.data));\n      AfterGet(response.data);\n    }).catch(error => {\n      var _error$response;\n      return dispatch(setError(error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data));\n    }).finally(() => dispatch(setLoading(false)));\n  };\n};\nexport const getProduct = ({\n  id\n}) => {\n  return async dispatch => {\n    dispatch(setLoading(true));\n    axios.get(`${API}/product/${id}`).then(response => {\n      dispatch(setProduct(response.data));\n    }).catch(error => dispatch(setError(error.response.data))).finally(() => dispatch(setLoading(null)));\n  };\n};\nexport const getMaxPrice = () => {\n  return async dispatch => {\n    axios.get(`${API}/product/?ordering=-price`).then(response => {\n      var _response$data;\n      dispatch(setMaxPrice(response === null || response === void 0 ? void 0 : (_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.results[0].price));\n    }).catch(error => dispatch(setError(error.response.data)));\n  };\n};","map":{"version":3,"names":["createSlice","axios","API","userSlice","name","initialState","data","loading","error","oneData","filter","maxPrice","currentPage","reducers","setMaxPrice","state","payload","setProducts","setProduct","setError","setLoading","setFilter","addItemLast","_state$data","_state$data$results","results","push","setCurrentPage","actions","reducer","getProducts","params","AfterGet","dispatch","get","page_size","page","then","response","catch","_error$response","finally","getProduct","id","getMaxPrice","_response$data","price"],"sources":["/Users/muhammad/Downloads/ayfamarket-main/src/store/slices/Product.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\nimport { API } from \"../hook\";\r\n\r\nconst userSlice = createSlice({\r\n  name: \"product\",\r\n  initialState: {\r\n    data: [],\r\n    loading: false,\r\n    error: false,\r\n    oneData: {},\r\n    filter: false,\r\n    maxPrice: [],\r\n    currentPage: 1,\r\n  },\r\n  reducers: {\r\n    setMaxPrice: (state, { payload }) => {\r\n      state.maxPrice = payload;\r\n    },\r\n    setProducts: (state, { payload }) => {\r\n      state.data = payload;\r\n    },\r\n    setProduct: (state, { payload }) => {\r\n      state.oneData = payload;\r\n    },\r\n    setError: (state, { payload }) => {\r\n      state.error = payload;\r\n    },\r\n    setLoading: (state, { payload }) => {\r\n      state.loading = payload;\r\n    },\r\n    setFilter: (state, { payload }) => {\r\n      state.filter = payload;\r\n    },\r\n    addItemLast: (state, { payload }) => {\r\n      state.data?.results?.push(...payload);\r\n    },\r\n    setCurrentPage: (state, { payload }) => {\r\n      state.currentPage = payload;\r\n    },\r\n  },\r\n});\r\nexport const {\r\n  setProducts,\r\n  setError,\r\n  setLoading,\r\n  setProduct,\r\n  setFilter,\r\n  setMaxPrice,\r\n  addItemLast,\r\n  setCurrentPage,\r\n} = userSlice.actions;\r\nexport default userSlice.reducer;\r\n\r\nexport const getProducts = (params, AfterGet) => {\r\n  return async (dispatch) => {\r\n    dispatch(setLoading(true));\r\n    axios\r\n      .get(`${API}/product/${params ? params : \"\"}`, {\r\n        params: { page_size: 12, page: 1 },\r\n      })\r\n      .then((response) => {\r\n        dispatch(setProducts(response?.data));\r\n        AfterGet(response.data);\r\n      })\r\n      .catch((error) => dispatch(setError(error?.response?.data)))\r\n      .finally(() => dispatch(setLoading(false)));\r\n  };\r\n};\r\n\r\nexport const getProduct = ({ id }) => {\r\n  return async (dispatch) => {\r\n    dispatch(setLoading(true));\r\n\r\n    axios\r\n      .get(`${API}/product/${id}`)\r\n      .then((response) => {\r\n        dispatch(setProduct(response.data));\r\n      })\r\n      .catch((error) => dispatch(setError(error.response.data)))\r\n      .finally(() => dispatch(setLoading(null)));\r\n  };\r\n};\r\n\r\nexport const getMaxPrice = () => {\r\n  return async (dispatch) => {\r\n    axios\r\n      .get(`${API}/product/?ordering=-price`)\r\n      .then((response) => {\r\n        dispatch(setMaxPrice(response?.data?.results[0].price));\r\n      })\r\n      .catch((error) => dispatch(setError(error.response.data)));\r\n  };\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}