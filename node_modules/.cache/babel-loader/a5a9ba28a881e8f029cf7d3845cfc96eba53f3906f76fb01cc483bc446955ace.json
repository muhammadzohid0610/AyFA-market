{"ast":null,"code":"import React,{useState}from\"react\";import{useForm}from\"react-hook-form\";import{useDispatch,useSelector}from\"react-redux\";import{useNavigate}from\"react-router-dom\";import{changeUserPassword}from\"../store/slices/User\";import Success from\"../components/Success\";import{setError}from\"../store/slices/User\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const label=\"text-[#1DBE60] font-semibold text-[12px]\";const text=\"вы успешно изменили данные профиля\";const PassordChange=()=>{var _user$error,_user$error2,_user$error3;const[popup,setPopup]=useState(false);const dispatch=useDispatch();const navigate=useNavigate();const{register,handleSubmit,watch,reset}=useForm();const[errorNewPassword,setErrorNewPassword]=useState(false);const{user}=useSelector(state=>state);const back=()=>{setPopup(true);setTimeout(()=>{setPopup(false);},900);setTimeout(()=>{navigate(-1);},900);};const changePassword=()=>{if(watch().newPassword==watch().newPasswordСonfirmed){const password={old_password:watch().oldPasswor,new_password:watch().newPassword};dispatch(changeUserPassword(password,back));}else{setErrorNewPassword(true);}};const clear=()=>{dispatch(setError(false));console.log(user.error);navigate(-1);};return/*#__PURE__*/_jsx(\"div\",{className:\"flex-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"profile bg-[#1b1d31] w-full flex-1 px-[10px]\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-[100vw] z-[0] bg-[#1b1d31ad] h-[100vh] absolute top-0 left-0\"}),\" \",popup?/*#__PURE__*/_jsx(Success,{text:text}):/*#__PURE__*/_jsxs(\"div\",{className:\"bg-[#d5e0da1a] relative  z-10 max-w-[500px] max-h-[700px] h-[60vh] px-7 py-5 mx-auto rounded-[24px] flex flex-col\",children:[/*#__PURE__*/_jsx(\"span\",{onClick:()=>navigate(-1),className:\"absolute top-7 right-5 text-[#b2b4bc] material-symbols-outlined\",children:\"close\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-[#1DBE60] text-3xl font-semibold pb-5\",children:\"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0435\\u043D\\u0438\\u044F \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 flex flex-col gap-6 \",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"border-b border-[#1DBE60]\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-l text-[#b2b4bc] font-medium\",children:\"\\u0412\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0441\\u0442\\u0430\\u0440\\u044B\\u0439 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\"}),/*#__PURE__*/_jsx(\"input\",{...register(\"oldPasswor\",{required:false}),placeholder:\"\\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",className:\"flex-1 pb-1 bg-[#d5e0da1a] w-full text-xl text-[#858892] font-normal placeholder:text-[#b2b4bc]\"}),/*#__PURE__*/_jsx(\"span\",{className:\"\".concat(label),children:user===null||user===void 0?void 0:(_user$error=user.error)===null||_user$error===void 0?void 0:_user$error.old_password})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-b border-[#1DBE60]\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-l text-[#b2b4bc] font-medium\",children:\"\\u0412\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043D\\u043E\\u0432\\u044B\\u0439 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\"}),/*#__PURE__*/_jsx(\"input\",{...register(\"newPassword\",{required:false}),placeholder:\"\\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",className:\"flex-1 pb-1 bg-[#d5e0da1a] w-full text-xl text-[#858892] font-normal placeholder:text-[#b2b4bc]\"}),/*#__PURE__*/_jsx(\"span\",{className:\"\".concat(label),children:user===null||user===void 0?void 0:(_user$error2=user.error)===null||_user$error2===void 0?void 0:_user$error2.new_password})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-b border-[#1DBE60]\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-l text-[#b2b4bc] font-medium\",children:\"\\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0438\\u0442\\u0435 \\u043D\\u043E\\u0432\\u044B\\u0439 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\"}),/*#__PURE__*/_jsx(\"input\",{...register(\"newPasswordСonfirmed\",{required:false}),placeholder:\"\\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",className:\"flex-1 pb-1 bg-[#d5e0da1a] w-full text-xl text-[#858892] font-normal placeholder:text-[#b2b4bc]\"}),/*#__PURE__*/_jsx(\"span\",{className:\"\".concat(label),children:errorNewPassword&&\"Введенный пароль не совпадает с новым\"})]})]}),/*#__PURE__*/_jsx(\"span\",{className:\"\".concat(label),children:user===null||user===void 0?void 0:(_user$error3=user.error)===null||_user$error3===void 0?void 0:_user$error3.massage}),/*#__PURE__*/_jsxs(\"div\",{className:\"button flex justify-between\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit(changePassword),className:\"border border-[#1DBE60] py-2 w-[170px] rounded-[24px] text-[#b2b4bc] font-medium\",children:\"\\u0438\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u0434\\u044B\\u043D\\u043D\\u044B\\u0435\"}),/*#__PURE__*/_jsx(\"button\",{onClick:clear,className:\"border border-[#1DBE60] py-2 w-[170px] rounded-[24px] text-[#b2b4bc] font-medium\",children:\"\\u043E\\u0442\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C\"})]})]})]})});};export default PassordChange;","map":{"version":3,"names":["React","useState","useForm","useDispatch","useSelector","useNavigate","changeUserPassword","Success","setError","jsx","_jsx","jsxs","_jsxs","label","text","PassordChange","_user$error","_user$error2","_user$error3","popup","setPopup","dispatch","navigate","register","handleSubmit","watch","reset","errorNewPassword","setErrorNewPassword","user","state","back","setTimeout","changePassword","newPassword","newPasswordСonfirmed","password","old_password","oldPasswor","new_password","clear","console","log","error","className","children","onClick","required","placeholder","concat","massage"],"sources":["/Users/muhammad/Downloads/ayfamarket-main/src/pages/PassordChange.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { changeUserPassword } from \"../store/slices/User\";\r\nimport Success from \"../components/Success\";\r\nimport { setError } from \"../store/slices/User\";\r\nconst label = \"text-[#1DBE60] font-semibold text-[12px]\";\r\nconst text = \"вы успешно изменили данные профиля\";\r\n\r\nconst PassordChange = () => {\r\n  const [popup, setPopup] = useState(false);\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const { register, handleSubmit, watch, reset } = useForm();\r\n  const [errorNewPassword, setErrorNewPassword] = useState(false);\r\n  const { user } = useSelector((state) => state);\r\n  const back = () => {\r\n    setPopup(true);\r\n    setTimeout(() => {\r\n      setPopup(false);\r\n    }, 900);\r\n    setTimeout(() => {\r\n      navigate(-1);\r\n    }, 900);\r\n  };\r\n  const changePassword = () => {\r\n    if (watch().newPassword == watch().newPasswordСonfirmed) {\r\n      const password = {\r\n        old_password: watch().oldPasswor,\r\n        new_password: watch().newPassword,\r\n      };\r\n      dispatch(changeUserPassword(password, back));\r\n    } else {\r\n      setErrorNewPassword(true);\r\n    }\r\n  };\r\n\r\n  const clear = () =>{\r\n    dispatch(setError(false))\r\n\r\n    console.log(user.error);\r\n    navigate(-1)\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex-1\">\r\n      <div className=\"profile bg-[#1b1d31] w-full flex-1 px-[10px]\">\r\n        <div className=\"w-[100vw] z-[0] bg-[#1b1d31ad] h-[100vh] absolute top-0 left-0\"></div>{\" \"}\r\n        {popup ? (\r\n          <Success text={text} />\r\n        ) : (\r\n          <div\r\n            className=\"bg-[#d5e0da1a] relative  z-10 max-w-[500px] max-h-[700px] h-[60vh] px-7 py-5 mx-auto rounded-[24px] flex flex-col\"\r\n          >\r\n            <span\r\n              onClick={() => navigate(-1)}\r\n              className=\"absolute top-7 right-5 text-[#b2b4bc] material-symbols-outlined\"\r\n            >\r\n              close\r\n            </span>\r\n            <h3 className=\"text-[#1DBE60] text-3xl font-semibold pb-5\">\r\n              Изменения пароль\r\n            </h3>\r\n            <div className=\"flex-1 flex flex-col gap-6 \">\r\n              <div className=\"border-b border-[#1DBE60]\">\r\n                <h4 className=\"text-l text-[#b2b4bc] font-medium\">\r\n                  Ведите старый пароль\r\n                </h4>\r\n\r\n                <input\r\n                  {...register(\"oldPasswor\", { required: false })}\r\n                  placeholder=\"пароль\"\r\n                  className=\"flex-1 pb-1 bg-[#d5e0da1a] w-full text-xl text-[#858892] font-normal placeholder:text-[#b2b4bc]\"\r\n                />\r\n                <span className={`${label}`}>{user?.error?.old_password}</span>\r\n              </div>\r\n              <div className=\"border-b border-[#1DBE60]\">\r\n                <h4 className=\"text-l text-[#b2b4bc] font-medium\">\r\n                  Ведите новый пароль\r\n                </h4>\r\n\r\n                <input\r\n                  {...register(\"newPassword\", { required: false })}\r\n                  placeholder=\"пароль\"\r\n                  className=\"flex-1 pb-1 bg-[#d5e0da1a] w-full text-xl text-[#858892] font-normal placeholder:text-[#b2b4bc]\"\r\n                />\r\n                <span className={`${label}`}>{user?.error?.new_password}</span>\r\n              </div>\r\n              <div className=\"border-b border-[#1DBE60]\">\r\n                <h4 className=\"text-l text-[#b2b4bc] font-medium\">\r\n                  Подтвердите новый пароль\r\n                </h4>\r\n\r\n                <input\r\n                  {...register(\"newPasswordСonfirmed\", { required: false })}\r\n                  placeholder=\"пароль\"\r\n                  className=\"flex-1 pb-1 bg-[#d5e0da1a] w-full text-xl text-[#858892] font-normal placeholder:text-[#b2b4bc]\"\r\n                />\r\n                <span className={`${label}`}>\r\n                  {errorNewPassword && \"Введенный пароль не совпадает с новым\"}\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <span className={`${label}`}>{user?.error?.massage}</span>\r\n\r\n            <div className=\"button flex justify-between\">\r\n              <button\r\n                onClick={handleSubmit(changePassword)}\r\n                className=\"border border-[#1DBE60] py-2 w-[170px] rounded-[24px] text-[#b2b4bc] font-medium\"\r\n              >\r\n                изменить дынные\r\n              </button>\r\n              <button\r\n                onClick={clear}\r\n                className=\"border border-[#1DBE60] py-2 w-[170px] rounded-[24px] text-[#b2b4bc] font-medium\"\r\n              >\r\n                отменить\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PassordChange;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}